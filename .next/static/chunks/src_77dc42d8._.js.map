{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/StoryViewer.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { XMarkIcon, ChevronLeftIcon, ChevronRightIcon } from \"@heroicons/react/24/outline\";\nimport { doc, updateDoc, arrayUnion, getDoc } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase-init\";\nimport { useAuth } from \"@/lib/AuthContext\";\n\ninterface Story {\n  id: string;\n  userId: string;\n  username: string;\n  userAvatar: string;\n  mediaUrl: string;\n  mediaType: \"image\" | \"video\";\n  timestamp: any;\n  viewers?: string[];\n}\n\ninterface StoryViewerProps {\n  stories: Story[];\n  initialStoryIndex: number;\n  onClose: () => void;\n}\n\nexport default function StoryViewer({ stories, initialStoryIndex, onClose }: StoryViewerProps) {\n  const { user } = useAuth();\n  const [currentStoryIndex, setCurrentStoryIndex] = useState(initialStoryIndex);\n  const [progress, setProgress] = useState(0);\n  const progressInterval = useRef<NodeJS.Timeout>();\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  const currentStory = stories[currentStoryIndex];\n  const isLastStory = currentStoryIndex === stories.length - 1;\n  const isFirstStory = currentStoryIndex === 0;\n\n  useEffect(() => {\n    if (!currentStory || !user) return;\n\n    // Mark story as viewed\n    const markAsViewed = async () => {\n      const storyRef = doc(db, \"stories\", currentStory.id);\n      const storyDoc = await getDoc(storyRef);\n      \n      if (storyDoc.exists()) {\n        const viewers = storyDoc.data().viewers || [];\n        if (!viewers.includes(user.uid)) {\n          await updateDoc(storyRef, {\n            viewers: arrayUnion(user.uid)\n          });\n        }\n      }\n    };\n\n    markAsViewed();\n\n    // Start progress bar\n    if (currentStory.mediaType === \"image\") {\n      // For images, progress over 5 seconds\n      const duration = 5000;\n      const interval = 50;\n      let elapsed = 0;\n\n      progressInterval.current = setInterval(() => {\n        elapsed += interval;\n        setProgress((elapsed / duration) * 100);\n\n        if (elapsed >= duration) {\n          if (isLastStory) {\n            onClose();\n          } else {\n            setCurrentStoryIndex(prev => prev + 1);\n            setProgress(0);\n          }\n        }\n      }, interval);\n\n      return () => {\n        if (progressInterval.current) {\n          clearInterval(progressInterval.current);\n        }\n      };\n    }\n  }, [currentStory, user, isLastStory, onClose]);\n\n  const handleVideoProgress = () => {\n    if (!videoRef.current) return;\n    \n    const { currentTime, duration } = videoRef.current;\n    setProgress((currentTime / duration) * 100);\n\n    if (currentTime >= duration) {\n      if (isLastStory) {\n        onClose();\n      } else {\n        setCurrentStoryIndex(prev => prev + 1);\n        setProgress(0);\n      }\n    }\n  };\n\n  const handleNext = () => {\n    if (isLastStory) {\n      onClose();\n    } else {\n      setCurrentStoryIndex(prev => prev + 1);\n      setProgress(0);\n    }\n  };\n\n  const handlePrevious = () => {\n    if (!isFirstStory) {\n      setCurrentStoryIndex(prev => prev - 1);\n      setProgress(0);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 bg-black flex items-center justify-center\">\n      {/* Close button */}\n      <button\n        onClick={onClose}\n        className=\"absolute top-4 right-4 text-white z-50\"\n      >\n        <XMarkIcon className=\"h-6 w-6\" />\n      </button>\n\n      {/* Navigation buttons */}\n      {!isFirstStory && (\n        <button\n          onClick={handlePrevious}\n          className=\"absolute left-4 top-1/2 -translate-y-1/2 text-white z-50\"\n        >\n          <ChevronLeftIcon className=\"h-8 w-8\" />\n        </button>\n      )}\n      {!isLastStory && (\n        <button\n          onClick={handleNext}\n          className=\"absolute right-4 top-1/2 -translate-y-1/2 text-white z-50\"\n        >\n          <ChevronRightIcon className=\"h-8 w-8\" />\n        </button>\n      )}\n\n      {/* Progress bar */}\n      <div className=\"absolute top-0 left-0 right-0 h-1 bg-gray-800 z-50\">\n        <div\n          className=\"h-full bg-white transition-all duration-100 ease-linear\"\n          style={{ width: `${progress}%` }}\n        />\n      </div>\n\n      {/* Story content */}\n      <div className=\"relative w-full h-full max-w-md mx-auto\">\n        {/* User info */}\n        <div className=\"absolute top-8 left-4 right-4 flex items-center space-x-3 z-50\">\n          <img\n            src={currentStory.userAvatar}\n            alt={currentStory.username}\n            className=\"w-8 h-8 rounded-full border border-white\"\n          />\n          <span className=\"text-white font-semibold\">{currentStory.username}</span>\n        </div>\n\n        {/* Media */}\n        {currentStory.mediaType === \"video\" ? (\n          <video\n            ref={videoRef}\n            src={currentStory.mediaUrl}\n            className=\"w-full h-full object-contain\"\n            autoPlay\n            playsInline\n            onTimeUpdate={handleVideoProgress}\n          />\n        ) : (\n          <img\n            src={currentStory.mediaUrl}\n            alt=\"Story\"\n            className=\"w-full h-full object-contain\"\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 264, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/StoriesNew.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { ChevronLeftIcon, ChevronRightIcon, PlusIcon } from \"@heroicons/react/24/outline\";\nimport { collection, query, onSnapshot, orderBy, addDoc, serverTimestamp, where } from \"firebase/firestore\";\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\nimport { db, storage } from \"@/lib/firebase-init\";\nimport { useAuth } from \"@/lib/AuthContext\";\nimport StoryViewer from \"./StoryViewer\";\n\ninterface Story {\n  id: string;\n  userId: string;\n  username: string;\n  userAvatar: string;\n  mediaUrl: string;\n  mediaType: \"image\" | \"video\";\n  timestamp: any;\n  viewers?: string[];\n}\n\nexport default function StoriesNew() {\n  const { user } = useAuth();\n  const [stories, setStories] = useState<Story[]>([]);\n  const [scrollPosition, setScrollPosition] = useState(0);\n  const [selectedStoryIndex, setSelectedStoryIndex] = useState<number | null>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  useEffect(() => {\n    if (!user) return;\n\n    // Get stories from the last 24 hours\n    const yesterday = new Date();\n    yesterday.setDate(yesterday.getDate() - 1);\n\n    const storiesCollection = collection(db, \"stories\");\n    const q = query(\n      storiesCollection,\n      where(\"timestamp\", \">=\", yesterday),\n      orderBy(\"timestamp\", \"desc\")\n    );\n\n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const storiesData: Story[] = [];\n      snapshot.forEach((doc) => {\n        const data = doc.data();\n        storiesData.push({\n          id: doc.id,\n          userId: data.userId,\n          username: data.username,\n          userAvatar: data.userAvatar || \"/default-avatar.png\",\n          mediaUrl: data.mediaUrl,\n          mediaType: data.mediaType,\n          timestamp: data.timestamp,\n          viewers: data.viewers || [],\n        });\n      });\n      setStories(storiesData);\n    });\n\n    return () => unsubscribe();\n  }, [user]);\n\n  const scroll = (direction: \"left\" | \"right\") => {\n    if (!containerRef.current) return;\n\n    const scrollAmount = 200;\n    const newPosition = direction === \"left\"\n      ? scrollPosition - scrollAmount\n      : scrollPosition + scrollAmount;\n\n    containerRef.current.scrollTo({\n      left: newPosition,\n      behavior: \"smooth\",\n    });\n\n    setScrollPosition(newPosition);\n  };\n\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file || !user) return;\n\n    const validImageTypes = [\"image/jpeg\", \"image/png\", \"image/webp\"];\n    const validVideoTypes = [\"video/mp4\", \"video/webm\", \"video/quicktime\"];\n\n    if (![...validImageTypes, ...validVideoTypes].includes(file.type)) {\n      setError(\"Formato inválido. Aceitamos fotos e vídeos.\");\n      return;\n    }\n\n    setUploading(true);\n    setError(\"\");\n\n    try {\n      // For videos, check dimensions\n      if (validVideoTypes.includes(file.type)) {\n        const video = document.createElement(\"video\");\n        video.preload = \"metadata\";\n        \n        await new Promise((resolve, reject) => {\n          video.onloadedmetadata = () => {\n            if (video.videoWidth !== 1080 || video.videoHeight !== 1920) {\n              reject(new Error(\"Vídeo deve ter resolução 1080x1920.\"));\n            } else {\n              resolve(true);\n            }\n          };\n          video.onerror = reject;\n          video.src = URL.createObjectURL(file);\n        });\n      }\n\n      // Upload file\n      const storageRef = ref(storage, `stories/${Date.now()}-${file.name}`);\n      await uploadBytes(storageRef, file);\n      const mediaUrl = await getDownloadURL(storageRef);\n\n      // Create story document\n      await addDoc(collection(db, \"stories\"), {\n        userId: user.uid,\n        username: user.displayName || \"Usuário\",\n        userAvatar: user.photoURL || \"/default-avatar.png\",\n        mediaUrl,\n        mediaType: file.type.startsWith(\"video\") ? \"video\" : \"image\",\n        timestamp: serverTimestamp(),\n        viewers: [],\n      });\n    } catch (err: any) {\n      setError(err.message || \"Erro ao criar história.\");\n    } finally {\n      setUploading(false);\n      if (fileInputRef.current) {\n        fileInputRef.current.value = \"\";\n      }\n    }\n  };\n\n  return (\n    <>\n      <div className=\"relative mb-8\">\n        {/* Navigation buttons */}\n        <button\n          onClick={() => scroll(\"left\")}\n          className=\"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 rounded-full p-1 shadow-md z-10 hover:bg-white dark:hover:bg-gray-800\"\n          style={{ display: scrollPosition > 0 ? \"block\" : \"none\" }}\n        >\n          <ChevronLeftIcon className=\"h-5 w-5 dark:text-gray-200\" />\n        </button>\n\n        <button\n          onClick={() => scroll(\"right\")}\n          className=\"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 dark:bg-gray-800/80 rounded-full p-1 shadow-md z-10 hover:bg-white dark:hover:bg-gray-800\"\n        >\n          <ChevronRightIcon className=\"h-5 w-5 dark:text-gray-200\" />\n        </button>\n\n        {/* Stories container */}\n        <div\n          ref={containerRef}\n          className=\"flex space-x-4 overflow-x-hidden p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm\"\n        >\n          {/* Create Story Button */}\n          <div \n            className=\"flex flex-col items-center space-y-1 flex-shrink-0 cursor-pointer\"\n            onClick={() => fileInputRef.current?.click()}\n          >\n            <div className=\"w-16 h-16 rounded-full p-[2px] bg-gray-200 dark:bg-gray-700 flex items-center justify-center\">\n              <PlusIcon className=\"h-8 w-8 text-gray-600 dark:text-gray-300\" />\n            </div>\n            <span className=\"text-xs text-center w-16 truncate dark:text-gray-200\">\n              {uploading ? \"Enviando...\" : \"Criar história\"}\n            </span>\n          </div>\n\n          {/* Stories */}\n          {stories.map((story, index) => (\n            <div\n              key={story.id}\n              className=\"flex flex-col items-center space-y-1 flex-shrink-0 cursor-pointer\"\n              onClick={() => setSelectedStoryIndex(index)}\n            >\n              <div className={`w-16 h-16 rounded-full p-[2px] ${\n                story.viewers?.includes(user?.uid || \"\") \n                  ? \"bg-gray-300 dark:bg-gray-600\"\n                  : \"bg-gradient-to-tr from-yellow-400 to-pink-600\"\n              }`}>\n                <div className=\"w-full h-full rounded-full border-2 border-white dark:border-gray-800 overflow-hidden\">\n                  <img\n                    src={story.userAvatar}\n                    alt={story.username}\n                    className=\"w-full h-full object-cover\"\n                  />\n                </div>\n              </div>\n              <span className=\"text-xs text-center w-16 truncate dark:text-gray-200\">\n                {story.username}\n              </span>\n            </div>\n          ))}\n        </div>\n\n        {/* Hidden file input */}\n        <input\n          type=\"file\"\n          ref={fileInputRef}\n          className=\"hidden\"\n          accept=\"image/jpeg,image/png,image/webp,video/mp4,video/webm,video/quicktime\"\n          onChange={handleFileSelect}\n        />\n\n        {error && (\n          <div className=\"mt-2 text-sm text-red-600 dark:text-red-400\">\n            {error}\n          </div>\n        )}\n      </div>\n\n      {/* Story Viewer */}\n      {selectedStoryIndex !== null && (\n        <StoryViewer\n          stories={stories}\n          initialStoryIndex={selectedStoryIndex}\n          onClose={() => setSelectedStoryIndex(null)}\n        />\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 582, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/SocialFeedNew.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useRef } from \"react\";\nimport {\n  HeartIcon as HeartOutline,\n  ChatBubbleLeftIcon,\n  PaperAirplaneIcon,\n  BookmarkIcon,\n  EllipsisHorizontalIcon,\n} from '@heroicons/react/24/outline';\nimport { HeartIcon as HeartSolid } from '@heroicons/react/24/solid';\nimport {\n  collection,\n  query,\n  onSnapshot,\n  doc,\n  updateDoc,\n  increment,\n  orderBy,\n  addDoc,\n  serverTimestamp,\n  getDocs,\n  limit,\n  startAfter,\n  arrayUnion,\n  arrayRemove,\n  where,\n} from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase-init\";\nimport { useAuth } from \"@/lib/AuthContext\";\nimport { formatDistanceToNow } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\n\ninterface Post {\n  id: string;\n  authorId: string;\n  author: string;\n  content: string;\n  likes: number;\n  likedBy: string[];\n  comments: Comment[];\n  authorAvatar?: string;\n  imageUrl?: string;\n  timestamp?: any;\n}\n\ninterface Comment {\n  id: string;\n  authorId: string;\n  author: string;\n  content: string;\n  timestamp: any;\n  authorAvatar?: string;\n}\n\nexport default function SocialFeedNew() {\n  const { user } = useAuth();\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [lastVisible, setLastVisible] = useState<any>(null);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [newComment, setNewComment] = useState<{ [key: string]: string }>({});\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!user) return;\n\n    // Set up real-time listener for posts\n    const postsCollection = collection(db, \"posts\");\n    const q = query(postsCollection, orderBy(\"timestamp\", \"desc\"), limit(5));\n\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\n      const postsData: Post[] = [];\n      querySnapshot.forEach((doc) => {\n        const data = doc.data();\n        postsData.push({\n          id: doc.id,\n          authorId: data.authorId,\n          author: data.author,\n          content: data.content,\n          likes: data.likes || 0,\n          likedBy: data.likedBy || [],\n          comments: data.comments || [],\n          authorAvatar: data.authorAvatar || '/default-avatar.png',\n          imageUrl: data.imageUrl,\n          timestamp: data.timestamp,\n        });\n      });\n      setPosts(postsData);\n      setLastVisible(querySnapshot.docs[querySnapshot.docs.length - 1]);\n      setLoading(false);\n    });\n\n    return () => unsubscribe();\n  }, [user]);\n\n  const loadMorePosts = async () => {\n    if (!lastVisible || !user) return;\n    setLoadingMore(true);\n\n    const postsCollection = collection(db, \"posts\");\n    const q = query(\n      postsCollection,\n      orderBy(\"timestamp\", \"desc\"),\n      startAfter(lastVisible),\n      limit(5)\n    );\n\n    try {\n      const querySnapshot = await getDocs(q);\n      const newPosts: Post[] = [];\n      querySnapshot.forEach((doc) => {\n        const data = doc.data();\n        newPosts.push({\n          id: doc.id,\n          authorId: data.authorId,\n          author: data.author,\n          content: data.content,\n          likes: data.likes || 0,\n          likedBy: data.likedBy || [],\n          comments: data.comments || [],\n          authorAvatar: data.authorAvatar || '/default-avatar.png',\n          imageUrl: data.imageUrl,\n          timestamp: data.timestamp,\n        });\n      });\n\n      setPosts((prev) => [...prev, ...newPosts]);\n      setLastVisible(querySnapshot.docs[querySnapshot.docs.length - 1]);\n    } catch (error) {\n      console.error(\"Error loading more posts:\", error);\n    } finally {\n      setLoadingMore(false);\n    }\n  };\n\n  // Infinite scroll handler\n  useEffect(() => {\n    const handleScroll = () => {\n      if (!containerRef.current || loadingMore) return;\n      const { scrollTop, scrollHeight, clientHeight } = containerRef.current;\n      if (scrollTop + clientHeight >= scrollHeight - 100) {\n        loadMorePosts();\n      }\n    };\n\n    const container = containerRef.current;\n    if (container) {\n      container.addEventListener(\"scroll\", handleScroll);\n    }\n\n    return () => {\n      if (container) {\n        container.removeEventListener(\"scroll\", handleScroll);\n      }\n    };\n  }, [loadingMore, lastVisible]);\n\n  const toggleLike = async (postId: string) => {\n    if (!user) return;\n\n    const post = posts.find((p) => p.id === postId);\n    if (!post) return;\n\n    const postRef = doc(db, \"posts\", postId);\n    const isLiked = post.likedBy.includes(user.uid);\n\n    try {\n      await updateDoc(postRef, {\n        likes: isLiked ? increment(-1) : increment(1),\n        likedBy: isLiked ? arrayRemove(user.uid) : arrayUnion(user.uid),\n      });\n    } catch (error) {\n      console.error(\"Error updating likes:\", error);\n    }\n  };\n\n  const handleComment = async (postId: string) => {\n    if (!user || !newComment[postId]?.trim()) return;\n\n    const postRef = doc(db, \"posts\", postId);\n    const comment: Comment = {\n      id: Math.random().toString(36).substr(2, 9),\n      authorId: user.uid,\n      author: user.displayName || \"Usuário\",\n      content: newComment[postId].trim(),\n      timestamp: serverTimestamp(),\n      authorAvatar: user.photoURL || '/default-avatar.png',\n    };\n\n    try {\n      await updateDoc(postRef, {\n        comments: arrayUnion(comment),\n      });\n      setNewComment((prev) => ({ ...prev, [postId]: \"\" }));\n    } catch (error) {\n      console.error(\"Error adding comment:\", error);\n    }\n  };\n\n  const formatTimestamp = (timestamp: any) => {\n    if (!timestamp) return \"\";\n    const date = timestamp.toDate();\n    return formatDistanceToNow(date, { addSuffix: true, locale: ptBR });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div ref={containerRef} className=\"max-w-xl mx-auto h-[calc(100vh-4rem)] overflow-y-auto\">\n      {posts.length === 0 && (\n        <p className=\"text-center text-gray-500 dark:text-gray-400 py-8\">\n          Nenhuma publicação ainda.\n        </p>\n      )}\n      {posts.map((post) => (\n        <article key={post.id} className=\"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg mb-4 overflow-hidden\">\n          {/* Post header */}\n          <div className=\"flex items-center justify-between p-3\">\n            <div className=\"flex items-center space-x-3\">\n              <img\n                src={post.authorAvatar}\n                alt={post.author}\n                className=\"h-8 w-8 rounded-full object-cover border border-gray-200 dark:border-gray-600\"\n              />\n              <span className=\"font-semibold text-sm dark:text-gray-200\">{post.author}</span>\n            </div>\n            <EllipsisHorizontalIcon className=\"h-5 w-5 cursor-pointer dark:text-gray-400\" />\n          </div>\n\n          {/* Post image */}\n          {post.imageUrl && (\n            <div className=\"relative pb-[100%]\">\n              <img\n                src={post.imageUrl}\n                alt=\"Post content\"\n                className=\"absolute w-full h-full object-cover\"\n              />\n            </div>\n          )}\n\n          {/* Action buttons */}\n          <div className=\"p-3\">\n            <div className=\"flex justify-between mb-2\">\n              <div className=\"flex space-x-4\">\n                <button \n                  onClick={() => toggleLike(post.id)}\n                  className=\"focus:outline-none\"\n                >\n                  {post.likedBy.includes(user?.uid || '') ? (\n                    <HeartSolid className=\"h-6 w-6 text-red-500\" />\n                  ) : (\n                    <HeartOutline className=\"h-6 w-6 dark:text-gray-400\" />\n                  )}\n                </button>\n                <ChatBubbleLeftIcon className=\"h-6 w-6 dark:text-gray-400\" />\n                <PaperAirplaneIcon className=\"h-6 w-6 rotate-45 dark:text-gray-400\" />\n              </div>\n              <BookmarkIcon className=\"h-6 w-6 dark:text-gray-400\" />\n            </div>\n\n            {/* Likes */}\n            <div className=\"font-semibold text-sm mb-2 dark:text-gray-200\">\n              {post.likes} curtidas\n            </div>\n\n            {/* Caption */}\n            <div className=\"text-sm mb-2 dark:text-gray-200\">\n              <span className=\"font-semibold mr-2\">{post.author}</span>\n              {post.content}\n            </div>\n\n            {/* Comments */}\n            {post.comments.length > 0 && (\n              <div className=\"text-sm text-gray-500 dark:text-gray-400 mb-2\">\n                Ver todos os {post.comments.length} comentários\n              </div>\n            )}\n            {post.comments.slice(-2).map((comment) => (\n              <div key={comment.id} className=\"text-sm mb-1 dark:text-gray-200\">\n                <span className=\"font-semibold mr-2\">{comment.author}</span>\n                {comment.content}\n              </div>\n            ))}\n\n            {/* Timestamp */}\n            <div className=\"text-xs text-gray-500 dark:text-gray-400 uppercase mt-2\">\n              {formatTimestamp(post.timestamp)}\n            </div>\n          </div>\n\n          {/* Comment input */}\n          <div className=\"flex items-center border-t border-gray-300 dark:border-gray-700 p-3\">\n            <input\n              type=\"text\"\n              value={newComment[post.id] || \"\"}\n              onChange={(e) => setNewComment((prev) => ({ ...prev, [post.id]: e.target.value }))}\n              placeholder=\"Adicione um comentário...\"\n              className=\"flex-1 text-sm outline-none bg-transparent dark:text-gray-200 placeholder-gray-500 dark:placeholder-gray-400\"\n              onKeyPress={(e) => {\n                if (e.key === 'Enter') {\n                  e.preventDefault();\n                  handleComment(post.id);\n                }\n              }}\n            />\n            <button\n              onClick={() => handleComment(post.id)}\n              disabled={!newComment[post.id]?.trim()}\n              className=\"text-blue-500 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              Publicar\n            </button>\n          </div>\n        </article>\n      ))}\n      {loadingMore && (\n        <div className=\"flex justify-center items-center py-4\">\n          <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600\"></div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1073, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/components/Suggestions.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { collection, query, where, limit, getDocs, doc, setDoc } from \"firebase/firestore\";\nimport { db } from \"@/lib/firebase-init\";\nimport { useAuth } from \"@/lib/AuthContext\";\n\ninterface SuggestedUser {\n  id: string;\n  displayName: string;\n  photoURL: string;\n  email: string;\n  university?: string;\n}\n\nexport default function Suggestions() {\n  const { user } = useAuth();\n  const [suggestions, setSuggestions] = useState<SuggestedUser[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [following, setFollowing] = useState<Set<string>>(new Set());\n\n  useEffect(() => {\n    const fetchSuggestions = async () => {\n      if (!user) return;\n\n      try {\n        // First get user's following list\n        const followingSnapshot = await getDocs(collection(db, `users/${user.uid}/following`));\n        const followingIds = new Set(followingSnapshot.docs.map(doc => doc.id));\n        setFollowing(followingIds);\n\n        // Then get suggestions excluding users already followed\n        const usersRef = collection(db, \"users\");\n        const userDomain = user.email?.split('@')[1];\n        \n        const q = query(\n          usersRef,\n          where(\"emailDomain\", \"==\", userDomain),\n          limit(10)\n        );\n\n        const querySnapshot = await getDocs(q);\n        const suggestionsData: SuggestedUser[] = [];\n        \n        querySnapshot.forEach((doc) => {\n          // Skip current user and already followed users\n          if (doc.id !== user.uid && !followingIds.has(doc.id)) {\n            const data = doc.data();\n            suggestionsData.push({\n              id: doc.id,\n              displayName: data.displayName || \"Usuário\",\n              photoURL: data.photoURL || \"/default-avatar.png\",\n              email: data.email,\n              university: data.university,\n            });\n          }\n        });\n\n        setSuggestions(suggestionsData.slice(0, 5)); // Show only 5 suggestions\n      } catch (error) {\n        console.error(\"Error fetching suggestions:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchSuggestions();\n  }, [user]);\n\n  const handleFollow = async (suggestedUser: SuggestedUser) => {\n    if (!user) return;\n\n    try {\n      const followingRef = doc(db, `users/${user.uid}/following/${suggestedUser.id}`);\n      const followersRef = doc(db, `users/${suggestedUser.id}/followers/${user.uid}`);\n\n      const followData = {\n        timestamp: new Date(),\n        displayName: suggestedUser.displayName,\n        photoURL: suggestedUser.photoURL,\n        email: suggestedUser.email,\n      };\n\n      const followerData = {\n        timestamp: new Date(),\n        displayName: user.displayName || \"Usuário\",\n        photoURL: user.photoURL || \"/default-avatar.png\",\n        email: user.email,\n      };\n\n      await Promise.all([\n        setDoc(followingRef, followData),\n        setDoc(followersRef, followerData),\n      ]);\n\n      // Update local state\n      setFollowing(prev => new Set([...prev, suggestedUser.id]));\n      setSuggestions(prev => prev.filter(s => s.id !== suggestedUser.id));\n    } catch (error) {\n      console.error(\"Error following user:\", error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"flex items-center justify-between animate-pulse\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-8 h-8 bg-gray-200 dark:bg-gray-700 rounded-full\" />\n              <div className=\"space-y-2\">\n                <div className=\"h-3 w-24 bg-gray-200 dark:bg-gray-700 rounded\" />\n                <div className=\"h-2 w-16 bg-gray-200 dark:bg-gray-700 rounded\" />\n              </div>\n            </div>\n            <div className=\"h-4 w-12 bg-gray-200 dark:bg-gray-700 rounded\" />\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (suggestions.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400\">\n          Sugestões para você\n        </h3>\n        <button className=\"text-sm font-semibold dark:text-gray-200\">\n          Ver tudo\n        </button>\n      </div>\n\n      <div className=\"space-y-4\">\n        {suggestions.map((suggestion) => (\n          <div key={suggestion.id} className=\"flex items-center justify-between\">\n            <div className=\"flex items-center\">\n              <img\n                src={suggestion.photoURL}\n                alt={suggestion.displayName}\n                className=\"w-8 h-8 rounded-full object-cover border dark:border-gray-700\"\n              />\n              <div className=\"ml-3\">\n                <p className=\"text-sm font-semibold dark:text-gray-200\">\n                  {suggestion.displayName}\n                </p>\n                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                  {suggestion.university || \"Novo no Unio\"}\n                </p>\n              </div>\n            </div>\n            <button\n              onClick={() => handleFollow(suggestion)}\n              className=\"text-blue-500 text-xs font-semibold hover:text-blue-600 transition-colors\"\n            >\n              Seguir\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1363, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { useAuth } from \"@/lib/AuthContext\";\nimport StoriesNew from \"@/components/StoriesNew\";\nimport SocialFeedNew from \"@/components/SocialFeedNew\";\nimport Suggestions from \"@/components/Suggestions\";\n\nexport default function Page() {\n  const { user } = useAuth();\n\n  if (!user) return null; // Layout will handle redirect to login\n\n  return (\n    <div className=\"flex max-w-6xl mx-auto gap-8 px-4\">\n      {/* Main content: Stories and Feed */}\n      <div className=\"flex-1 max-w-[470px] w-full mx-auto\">\n        <StoriesNew />\n        <SocialFeedNew />\n      </div>\n\n      {/* Right sidebar */}\n      <div className=\"hidden lg:block w-[320px] mt-6 space-y-6\">\n        {/* Profile section */}\n        <div className=\"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <div className=\"flex items-center\">\n              <img\n                src={user.photoURL || \"/default-avatar.png\"}\n                alt={user.displayName || \"Profile\"}\n                className=\"w-14 h-14 rounded-full border p-[2px] dark:border-gray-600\"\n              />\n              <div className=\"ml-4\">\n                <h2 className=\"font-semibold text-sm dark:text-gray-200\">\n                  {user.displayName || \"Usuário\"}\n                </h2>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  {user.email?.split('@')[0] || \"\"}\n                </p>\n              </div>\n            </div>\n            <button \n              onClick={() => window.location.href = '/profile'} \n              className=\"text-blue-500 text-sm font-semibold hover:text-blue-600 transition-colors\"\n            >\n              Editar\n            </button>\n          </div>\n        </div>\n\n        {/* Suggestions */}\n        <Suggestions />\n\n        {/* Footer */}\n        <footer className=\"text-xs text-gray-500 dark:text-gray-400 space-y-4\">\n          <nav className=\"flex flex-wrap gap-x-2 gap-y-1\">\n            <a href=\"#\" className=\"hover:underline\">Sobre</a>\n            <span>•</span>\n            <a href=\"#\" className=\"hover:underline\">Ajuda</a>\n            <span>•</span>\n            <a href=\"#\" className=\"hover:underline\">Privacidade</a>\n            <span>•</span>\n            <a href=\"#\" className=\"hover:underline\">Termos</a>\n            <span>•</span>\n            <a href=\"#\" className=\"hover:underline\">Diretrizes da Comunidade</a>\n          </nav>\n          <div>\n            <p>© 2024 Unio - Conectando estudantes universitários</p>\n            <p className=\"mt-1\">Todos os direitos reservados</p>\n          </div>\n        </footer>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;;;AANA;;;;;AAQe,SAAS;;IACtB,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,6HAAA,CAAA,UAAO,AAAD;IAEvB,IAAI,CAAC,MAAM,OAAO,MAAM,uCAAuC;IAE/D,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,mIAAA,CAAA,UAAU;;;;;kCACX,6LAAC,sIAAA,CAAA,UAAa;;;;;;;;;;;0BAIhB,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CACC,KAAK,KAAK,QAAQ,IAAI;4CACtB,KAAK,KAAK,WAAW,IAAI;4CACzB,WAAU;;;;;;sDAEZ,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDAAG,WAAU;8DACX,KAAK,WAAW,IAAI;;;;;;8DAEvB,6LAAC;oDAAE,WAAU;8DACV,KAAK,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE,IAAI;;;;;;;;;;;;;;;;;;8CAIpC,6LAAC;oCACC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;oCACtC,WAAU;8CACX;;;;;;;;;;;;;;;;;kCAOL,6LAAC,oIAAA,CAAA,UAAW;;;;;kCAGZ,6LAAC;wBAAO,WAAU;;0CAChB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,MAAK;wCAAI,WAAU;kDAAkB;;;;;;kDACxC,6LAAC;kDAAK;;;;;;kDACN,6LAAC;wCAAE,MAAK;wCAAI,WAAU;kDAAkB;;;;;;kDACxC,6LAAC;kDAAK;;;;;;kDACN,6LAAC;wCAAE,MAAK;wCAAI,WAAU;kDAAkB;;;;;;kDACxC,6LAAC;kDAAK;;;;;;kDACN,6LAAC;wCAAE,MAAK;wCAAI,WAAU;kDAAkB;;;;;;kDACxC,6LAAC;kDAAK;;;;;;kDACN,6LAAC;wCAAE,MAAK;wCAAI,WAAU;kDAAkB;;;;;;;;;;;;0CAE1C,6LAAC;;kDACC,6LAAC;kDAAE;;;;;;kDACH,6LAAC;wCAAE,WAAU;kDAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhC;GAlEwB;;QACL,6HAAA,CAAA,UAAO;;;KADF","debugId":null}}]
}